<!DOCTYPE html><html><head><title>BrynKitDebugging.h</title><meta http-equiv="content-type" content="text/html; charset=UTF-8"><link rel="stylesheet" media="all" href="../doc-style.css"><script src="../doc-filelist.js"></script><script>var relativeDir = '../', thisFile = '/Users/bryn/.otis/templates/tmpl.jade', defaultSidebar = true;</script><script src="../doc-script.js"></script></head><body><div id="sidebar_wrapper"><div id="sidebar_switch"><span class="tree">Files</span><span class="headings">Headings</span></div><div id="tree"></div><div id="headings"><div class="heading h1"><a href="#debugging-macros">Debugging macros</a></div><div class="heading h4"><a href="#alog-...-">ALog(...)</a></div><div class="heading h4"><a href="#yssert--">yssert()</a></div></div></div><div id="sidebar-toggle"></div><div id="container"><div class="background highlight"></div><table cellpadding="0" cellspacing="0"><tbody><tr><td class="docs"></td><td class="code highlight"></td></tr><tr><td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>
<p>BrynKitDebugging.h
 BrynKit</p>

<p>Created by bryn austin bellomy on 2/27/2013
 Copyright (c) 2013 bryn austin bellomy. All rights reserved.</p></td><td class="code highlight"><div class="highlight"><pre><span class="cp">#import &lt;libextobjc/metamacros.h&gt;</span></pre></div></td></tr><tr><td class="docs"><div class="dox"><div class="summary">
<div class="pilwrap" id="debugging-macros">
  <h1>
    <a href="#debugging-macros" class="pilcrow">&#182;</a>
    Debugging macros
  </h1>
</div>
</div><div class="body"></div></div></td><td class="code highlight"><div class="highlight"><pre><span class="cp">#ifdef DEBUG</span></pre></div></td></tr><tr><td class="docs"><div class="dox"><div class="summary">
<div class="pilwrap" id="alog-...-">
  <h4>
    <a href="#alog-...-" class="pilcrow">&#182;</a>
    ALog(...)
  </h4>
</div>
</div><div class="body"><p>For internal use, mainly.</p></div></div></td><td class="code highlight"><div class="highlight"><pre><span class="cp">#   define ALog(...) \</span>
<span class="cp">        metamacro_if_eq(1, metamacro_argcount(__VA_ARGS__)) \</span>
<span class="cp">        ( [[NSAssertionHandler currentHandler] handleFailureInFunction:[NSString stringWithCString:__PRETTY_FUNCTION__ encoding:NSUTF8StringEncoding] file:[NSString stringWithCString:__FILE__ encoding:NSUTF8StringEncoding] lineNumber:__LINE__ description:@&quot;&quot;] )\</span>
<span class="cp">        ( [[NSAssertionHandler currentHandler] handleFailureInFunction:[NSString stringWithCString:__PRETTY_FUNCTION__ encoding:NSUTF8StringEncoding] file:[NSString stringWithCString:__FILE__ encoding:NSUTF8StringEncoding] lineNumber:__LINE__ description:__VA_ARGS__] )</span>
<span class="cp">#else</span>
<span class="cp">#   ifndef NS_BLOCK_ASSERTIONS</span>
<span class="cp">#       define NS_BLOCK_ASSERTIONS</span>
<span class="cp">#   endif</span>
<span class="cp">#   define ALog(...) \</span>
<span class="cp">        metamacro_if_eq(1, metamacro_argcount(__VA_ARGS__)) \</span>
<span class="cp">        ( BrynFnLog(COLOR_ERROR(@&quot;ASSERTION FAILED &quot;) @&quot;(%@)&quot;,    @ metamacro_stringify((__VA_ARGS__))) ) \</span>
<span class="cp">        ( BrynFnLog(COLOR_ERROR(@&quot;ASSERTION FAILED &quot;) @&quot;(%@) %@&quot;, @ metamacro_stringify((__VA_ARGS__)), [NSString stringWithFormat:__VA_ARGS__]) )</span>
<span class="cp">#endif</span></pre></div></td></tr><tr><td class="docs"><div class="dox"><div class="summary">
<div class="pilwrap" id="yssert--">
  <h4>
    <a href="#yssert--" class="pilcrow">&#182;</a>
    yssert()
  </h4>
</div>
</div><div class="body"><p>In DEBUG builds, <code>yssert</code> acts just like <code>assert()</code> -- it throws an
exception when the given condition fails.  In non-DEBUG builds, <code>yssert()</code>
logs the failure to <code>stdout</code> (using the message specified by the format
string) and proceeds with execution.</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span class="dox_type">expression</span><code class="name">expr</code> &mdash; <span class="description">A condition to test.</span></div><div class="dox_tag_detail"><span class="dox_type">format-str</span><code class="name">format</code> &mdash; <span class="description">A format string to print when <code>condition</code> is FALSE.</span></div></div></div></td><td class="code highlight"><div class="highlight"><pre><span class="cp">#define yssert(condition, ...) do { if (!(condition)) { ALog(__VA_ARGS__); }} while(0)</span>



<span class="cp">#define yssert_notNilAndIsClass(obj, klass) \</span>
<span class="cp">    yssert(obj != nil, @ metamacro_stringify(obj) @&quot; is nil.&quot;); \</span>
<span class="cp">    yssert([obj isKindOfClass: [klass class]], @ metamacro_stringify(obj) @&quot; is not an instance of &quot; @ metamacro_stringify(klass));</span>

<span class="cp">#define yssert_notNilAndConformsToProtocol(obj, proto) \</span>
<span class="cp">    yssert(obj != nil, @ metamacro_stringify(obj) @&quot; is nil.&quot;); \</span>
<span class="cp">    yssert([obj conformsToProtocol: @protocol(proto)], @ metamacro_stringify(obj) @&quot; does not conform to protocol &quot; @ metamacro_stringify(proto));</span>
</pre></div></td></tr></tbody></table></div></body></html>